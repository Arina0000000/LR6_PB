# Лабораторная работа №6. Система контроля версий
## Введение
## Цель работы
Изучение базовых возможностей системы управления версиями, опыт работы с Git Api, опыт работы с локальным и удаленным репозиторием. 
		
## Задание
1. Создать аккаунт на сайте GitHub;
2. Сделать копию в личное хранилище из https://github.com/Kurtyanik/LR6/ (Fork);  
3. Установить Git;
4. Настроить клиент git, введя имя пользователя (Группа Фамилия И.О.) и email;
5. Клонировать свой личный удалённый репозиторий на компьютер;
6. Добавить файл через интерфейс GitHub. Подтянуть изменения в локальный репозиторий;
7. Получить историю операций для каждой из веток;
8. Получить историю операций для каждой из веток;
9. Выполнить слияние в ветку master, разрешив конфликт;
10. Удалить побочную ветку после успешного слияния;
11. Сделать изменения и зафиксировать их, оставляя комментарии, несколько раз;
12. Сделать откат коммита;
13. Создать ветку для отчёта;
14. Начать оформлять отчёт в файле README.md, используя markdown синтаксис;
    - В отчёте должен быть снимки экрана консоли и сторонних программ. Файлы снимков экрана разместить в отдельной папке.
    - Лог команд (без результатов их выполнения).
15. Получить историю операций в форматированном виде (сокращённый хэш + дата + имя автора + комментарий);
16. Отправить локальные изменения в сетевое хранилище GitHub.

## Ход выполнения работы

Аккаунт на GitHub был создан некоторое время назад, поэтому выполнение лабораторной работы началось с создания форка репозитория по адресу https://github.com/Kurtyanik/LR6/ (рис. 1). Данный процесс позволил сделать полную копию чужого репозитория в своём профиле, которую можно изменять. Созданный репозиторий представлен на рисунке 2.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/2.1.png"></p>
<p align="center">Рисунок 1 - Создание fork</p></br>

Созданный репозиторий представлен на рисунке 2.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/2.2.png"></p>
<p align="center">Рисунок 2 - Созданный репозиторий</p></br>

Далее необходимо было установить Git с официального сайта, но данная система уже была установлена. Таким образом следующим шагом выполнения лабороторной работы стала настройка клиента git с указанием имени и адреса электронной почты при помощи команд (рис. 3), позволяющих настроить глобальные параметры для всех проектов Git:
* указанное имя будет отображаться в качестве автора коммита;
* адрес электронной почты будет использоваться связи коммитов с конкретным пользователем.
  
<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/4.png"></p>
<p align="center">Рисунок 3 - Настройка клиента git</p></br>

Затем был клонирован репозиторий с сервера на локальный компьютер с помощью команды, представленной на рисунке 4.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/5.png"></p>
<p align="center">Рисунок 4 - Создание локальной копии удаленного хранилища</p></br>
   
Через интерфейс GitHub был добавлен новый файл newFile.txt в главную ветку репозитория (рис. 5).

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/6.1.png"></p>
<p align="center">Рисунок 5 - Создание файла "newFile.txt" </p></br>

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/6.2.png"></p>
<p align="center">Рисунок 6 - Добавление файла "newFile.txt" </p></br>

Данное действие удобно для создания новых файлов или небольших правок. Но для более сложных задач чаще используют локальную среду, потому что она решает проблемы:
+ возникновение конфликтов;
+ отсутсвие возможности тестировать изменения локально перед их публикацией;
+ ограниченность возможности редактирования;
+ зависимость от интернет-соединения.
  
Так как нам необходимо производить редактирование веток и решение конфликтов остальные задачи будут производиться локально в среде **Git**. Для этого было проведено обновление рабочей копии репозитория, путём подтягивания последних изменеий из удалённого репозитория при помощи команды, представленной на рисунке 7.

> [!IMPORTANT]
> Сначала необходимо перейти в рабочий репозиторий с помощью команды cd и только потом использовать команду `git pull`

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/6.3.png"></p>
<p align="center">Рисунок 7 - Подтягивание изменений в локальный репозиторий</p></br>


> Далее работа будет продолжаться локально


Для просмотра истории операций в каждой ветке использовалась команда `git log`, которая выводит список коммитов в сжатой форме. История ветки master представлена на рисунке 8.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/7.1.png"></p>
<p align="center">Рисунок 8 - История ветки master</p></br>

Для просмотра истории ветки branch1 (рис. 9) сначала необходимо перейти на данную ветку, после чего использовать команду `git log`. 

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/7.2.png"></p>
<p align="center">Рисунок 9 - История ветки branch1</p></br>

> [!NOTE]
> Также можно посмотреть [историю двух веток](https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/7.3%20(History%20of%202%20branches).png) при помощи команды `gitk --all`, запускающая графический интерфейс Git, который позволяет визуализировать историю коммитов.

Для просмотра последнего изменения в определённой ветке используется команда `git show`. С её помощью можно увидеть информацию о последнем коммите, включая его хэш, автора, дату, содержание коммита и изменения в файлах.

Последние изменения в ветке master представлены на рисунке 10, а последние изменения в ветке branch1 - рисунок 11.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/8.1.png"></p>
<p align="center">Рисунок 10 - Последние изменения в ветке master</p></br>

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/8.2.png"></p>
<p align="center">Рисунок 11 - Последние изменения в ветке branch1</p></br>

Слияние в ветку master происходить при помощи команды `git merge`. Попытка выполнить данное действие представлена на рисунке 12.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/9.1.png"></p>
<p align="center">Рисунок 12 - Попытка выполнения слияния в ветку master</p></br>

Смотря на рисунок 12 можно заметить, что слияние не происходит, из-за возникновения конфликта между файлами  "mergefile.txt". Данные файлы имеют одинаковое название, но разное содержимое. Для решения конфликта сначала при помощи команды `notepad mergefile.txt` файл с конфликтами открывается в текстовом редакторе notepad (рис. 13), после чего были удалены маркеры, указывающие на конфликтующие измененияи (рис. 14).

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/9.2%20(1).png"></p>
<p align="center">Рисунок 13 - Открытый в редакторе Notepad файл "mergefile.txt"</p></br>

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/9.2%20(2).png"></p>
<p align="center">Рисунок 14 - Решение конфликтов в файле "mergefile.txt"</p></br>

Следующим этапом необходимо было добавить измененные файлы при помощью команды `git add`. После чего, перед созданием коммита, был проверен статус репозитория. И наконец создан коммит, чтобы зафиксировать изменения. Все проведённые действия представлены на рисунке 15.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/9.3.png"></p>
<p align="center">Рисунок 15 - Успешно выполненное слияние в ветку master</p></br>

После успешного слияния ветка branch1 была удалена при помощи команды `git branch -d branch1`, что показано на рисунке 16.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/10.png"></p>
<p align="center">Рисунок 16 - Удаление ветки branch1</p></br>

Для создания нескольких изменений использовалась команда `echo`, создающая файл с определённым текстовым сообщением. В данной работе были созданы два файла: changes.txt и changes_2.txt. Далее они были добавлены для дальнейшей их фиксации в коммите. Также стоит отмететь, что при помощи команд `cat` и `git status` были выведены содержимое файлов и текущее состояние репозитория. 

Создание файлов changes.txt и changes_2.txt представлено на рисунках 17 и 18 соответсвенно.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/11.1.png"></p>
<p align="center">Рисунок 17 - Создание файла changes.txt</p></br>

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/11.2.png"></p>
<p align="center">Рисунок 18 - Создание файла changes_2.txt</p></br>

Для создания третьего изменения использовались все те жи команды отличие лишь в том, что для команды `echo` использовался оператор >, который перезаписивает текстовое сообщения в файле changes_2.txt. Изменение файла changes_2.txt представлено на рисунке 19.

> [!NOTE]
> Оператор >> используется для добавления текстового содержимого в файл, а оператор > используется для перезписи существующего текстового содержимого в файле.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/11.3.png"></p>
<p align="center">Рисунок 19 - Изменение содержимого файла changes_2.txt</p></br>

Откат коммита был произведён при помощи команды `git reset` (без параметров), которая сбрасывает область подготовки к последнему коммиту, отменяя все добавленные изменения, но оставляя изменения в рабочей директории. Проверка наличия убранных коммитов осуществляется при помощи команды `git log -3`, которая отображает последние три коммита в текущей ветке репозитория. 

Пример отката двух последних коммитов представлены на рисунках 20 и 21.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/12.1.png"></p>
<p align="center">Рисунок 20 - Откат последнего коммита (изменение файла changes_2.txt)</p></br>

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/12.2.png"></p>
<p align="center">Рисунок 21 - Откат последнего коммита (создание файла changes_2.txt)</p></br>

Создание отдельной ветки для оформления отчета представлено на рисунке 22.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/13.png"></p>
<p align="center">Рисунок 22 - Создание ветки report</p></br>

Чтобы отправить локальные изменения в сетевое хранилище GitHub, были выполнены команды:
- `git push origin имя_ветки` отпрвавляет определённую ветку в удалённый репозиторий;
- `git push` отправляет изменения в удалённый репозиторий изменения из текущей ветки: в данном случае из ветки master;
- `git push origin --delete имя_удалённой_ветки` удаляет ветку из удалённого репозитория, не затрагивая локальную ветку, но в данной работе она локально была удалена при помощи команды `git branch -d branch1`.


> [!IMPORTANT]
> При выполнении данной работы была неправильно написана команда удаления ветки из репозитория (`git push origin master --delete имя_удалённой_ветки`). Однако команда успешно удалила ветку branch1 и вызвала ошибку: удалённый репозиторий отказался удалить ветку master, так как она является текущей веткой (команда выполнила частичное действие: branch1 была удалена, а master осталась нетронутой)
> 
> Чтобы не совершать данную ошибку дальше стоит внимательней следить за написанием команд, потому что не все команды "отказываются" выполнять нежелательные действия. Важно отметить, что команда `git push origin --delete имя_удалённой_ветки` не затрагивает локальную ветку, но в данной работе она локально была удалена при помощи команды `git branch -d branch1`.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/16.png"></p>
<p align="center">Рисунок 23 - Синхронизация локальных изменений с удаленным репозиторием на GitHub</p></br>

## Оформление отчёта

Для написания отчёта в файле README.md в ветке report использовался синтаксис Markdown для создания хорошо структурированного и читабельного текста. 

Так для создания заголовков использовался символ # (количество символов # определяет уровень заголовка). 

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/headings.png"></p>
<p align="center">Рисунок 24 - Создание заголовков</p></br>

Для создания "жирного текста" необходимо выделить текст двойными звездочками или двойными подчеркиваниями (в данной работе использовались **).

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/big%20letter.png"></p>
<p align="center">Рисунок 25 - Создание жирного текста</p></br>

Нумерованные списки были созданы при помощи чисел, за которыми следует точка, а маркированы списки были созданы при помощи символов *, - или +.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/lists.png"></p>
<p align="center">Рисунок 26 - Создание нумерованных и маркированных списков</p></br>

Также в данной работе была создана ссылка на изображение при помощи использования квадратных и круглых скобок. Изображения добавляются аналогично ссылкам с одним отличием: добавляется восклицательный знаком перед квадратнвми скобками. Но в данной работе изображение добавляется иным способом.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/link.png"></p>
<p align="center">Рисунок 27 - Создание ссылки</p></br>

Так как в Markdown можно использовать HTML-элементы для добавления дополнительных стилей и элементов, недоступных в стандартном наборе языка разметки Markdown. При выполнении лабораторной работы №6 использовался HTML-элемента `<img>`, который размещен внутри элемента `<p>`, выравнивающего изображение по центру с помощью атрибута `align="center"`, а атрибут `src` указывает URL изображения, хранящегося в отдельной папке в ветке report. 

Аналагично были выравнены подписи к рисункам: элемент HTML `<p>` и атрибут `align="center"` создают абзац текста, в котором указанный текст выравнивается по центру, а завершает абзац элемент <br>, которой добавляет разрыв строки.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/center.png"></p>
<p align="center">Рисунок 28 - Созданные HTML-элементы</p></br>

Для создания цитаты используется символ `>`, а для выделения однострочного кода используются обратные кавычки (`).

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/quote.png"></p>
<p align="center">Рисунок 29 - Созданная цитата</p></br>

Также в отчёте используются оповещения (расширение Markdown на основе синтаксиса blockquote, который можно использовать для выделения критически важных сведений) для выделения важной и дополняющей основной текст информации.
Для создания таких оповещений используется специальная строка blockquote, указывающая тип оповещения, а затем сведения об оповещении в стандартном блоквоте.

<p align="center"><img src="https://github.com/Arina0000000/LR6_PB/blob/report/Screenshots_LR6/warnings.png"></p>
<p align="center">Рисунок 30 - Созданное оповещение</p></br>

## Лог команд
```
git config --global user.name "4315 Гуляева А.Д"
git config --global user.email "gulikaari@mail.ru"
git config --global --list 
git clone https://github.com/Arina0000000/LR6_PB
cd ~/LR6_PB
git pull   
git log master
gitk --all
git show branch1  
git checkout branch1   
git log branch1
git show branch1
git checkout master   
git merge branch1
git status
notepad mergefile.txt
git add mergefile.txt
git status
git commit -m "Branches successfully connected (conflict resolved)"
git branch -d branch1
git branch   
echo "Была сделана первая запись" >> changes.txt 
git add changes.txt  
cat changes.txt
git status
git commit -m "Добавлено первое изменение" 
echo "Была сделана вторая запись" >> changes_2.txt
git add changes_2.txt
cat changes_2.txt
git status
git commit -m "Добавлено второе изменение"
echo "Была изменена вторая запись" > changes_2.txt
git add changes_2.txt
cat changes_2.txt
git status
git commit -m "Добавлено третье изменение"
git reset HEAD~1
git log -3
git reset HEAD~1
git log -3
git branch report
git branch
git push
git push origin report
git push origin master --delete branch1 - допущенна ошибка. Должно быть написано: git push origin --delete branch1
```



